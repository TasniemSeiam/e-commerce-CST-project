<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
      integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!-- Bootstrap CSS -->
    <link
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="./css/home.css" />
    <link rel="stylesheet" href="./css/signup.css" />
    <link rel="stylesheet" href="css/login.css" />

    <style>
      .custom-container {
        background-color: #fcb700;
        padding: 20px;
        border-radius: 8px;
      }

      .container-password {
        margin: 60px auto;
      }

      .btn {
        background-color: #012354;
        border: none;
      }

      .btn:hover {
        background-color: #033070;
        border: none;
      }

      .validate {
        display: none;
        font-size: 0.8rem;
        color: red;
        margin-top: 0.25rem;
        position: absolute;
        bottom: 4.5rem;
      }

      #otp-container {
        display: none; /* Initially hide OTP container */
      }

      .invalid-feedback {
        color: red;
        font-size: 0.8rem;
      }
    </style>

    <title>Change Password</title>
  </head>
  <body class="bg-light">
    <nav class="navbar navbar-expand-sm navbar-light border-bottom">
      <div class="container-fluid">
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarText"
          aria-controls="navbarText"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>

        <div
          class="collapse navbar-collapse justify-content-around justify-content-md-end"
          id="navbarText"
        >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="check__anchor" href="signup.html">Sign up</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <span
      aria-live="polite"
      aria-atomic="true"
      class="toast-container position-absolute top-0 end-0 p-3"
      style="z-index: 999999999"
    >
      <span class="toast-container p-3" id="toastPlacement">
        <!-- This is where the toast will be dynamically added -->
      </span>
    </span>

    <div class="container-fluid">
      <div class="container-password row justify-content-center">
        <div class="col-md-6 custom-container">
          <h2 class="text-center">Change Password</h2>
          <form id="changePasswordForm">
            <!-- Email Input Container -->
            <div class="form-group" id="email-container">
              <label for="email">Email address</label>
              <input
                type="email"
                class="form-control"
                id="email"
                name="email"
                placeholder="Enter your email"
                required
              />
              <button type="submit" class="btn btn-primary btn-block mt-3">
                Request Password Change
              </button>
            </div>

            <!-- OTP Input Container (Initially Hidden) -->

            <div id="otp-container" class="form-group" style="display: none">
              <label for="otp">Enter OTP</label>
              <input
                type="text"
                class="form-control"
                id="otp"
                name="otp"
                placeholder="Enter the OTP sent to your email"
                required
                disabled
              />
              <div class="invalid-feedback">Please enter the OTP.</div>
              <button
                type="button"
                class="btn btn-primary btn-block mt-3"
                id="verifyOtpBtn"
              >
                Verify OTP
              </button>
            </div>

            <div
              id="password-container"
              class="form-group"
              style="display: none"
            >
              <label for="newPassword">Enter New Password</label>
              <input
                type="password"
                class="form-control"
                id="newPassword"
                name="newPassword"
                placeholder="Enter your new password"
                required
                disabled
              />
              <div class="validate validate__password--error"></div>
              <div class="validate validate__password--success"></div>
              <div class="invalid-feedback">
                Please enter your new password.
              </div>
              <button
                type="button"
                class="btn btn-primary btn-block mt-3"
                id="changePasswordBtn"
              >
                Change Password
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row full-height">
        <div
          class="col-md-6 d-flex align-items-center justify-content-center"
        ></div>
        <div class="col-md-6 image-container d-none d-md-flex"></div>
      </div>
    </div>

    <!-- Bootstrap JS and dependencies -->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script type="module" src="js/changePassword.js"></script>
  </body>
</html>
